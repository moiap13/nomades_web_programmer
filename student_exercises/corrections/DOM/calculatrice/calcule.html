<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <style>
    fieldset {
      max-width: 400px;;
    }
  </style>
  <fieldset>
    <legend>
      <h1>Calculatrice</h1>
    </legend>
    <input type="number" name="champOne" id="champOne" placeholder="" title="champOne" value="">
    <input type="number" name="champTwo" id="champTwo" placeholder="" title="champTwo">
    <br/>
    <button id="sum">+</button>
    <button id="sub">-</button>
    <button id="mul">*</button>
    <button id="div">/</button>
    <button onclick="reset()">reset</button>
  
    <p>Resultat: <span id="resultat"></span></p>
  </fieldset>
  <script>
    /**
      * Function that returns the numbers from the input fields 
      * @returns {number[]} an array containing the numbers from the input fields
      */
    function getNumbers() {
      const champ1 = Number(document.querySelector("#champOne").value) // Here the Number function transforms the string into a number, the strings come from the value field of the input type number
      const champ2 = Number(document.querySelector("#champTwo").value)
      return [champ1, champ2]
    }

    /**
      * Function that displays the `result` provided by parameter in the span with id "resultat"
      * @param {number} result the result to display
      */
    function displayResult(result) {
      document.querySelector("#resultat").innerText = result
    }
    
    const compute = (op) => {
      const champs = getNumbers()
      return eval(`${champs[0]}${op}${champs[1]}`)
      /*switch(op){
        case "+":
          return champs[0] + champs[1]
        case "-":
          return champs[0] - champs[1]
        case "*":
          return champs[0] * champs[1]
        case "/":
          if(champs[1] === 0){
            alert("Division par zéro impossible")
            reset()
            return ""
          }
          return champs[0] / champs[1]
        
        default:
          return null
      }*/
    }
    // TODO: get the sum HTML elements using document.querySelector
    // TODO: attach click event to the sum button using the `addEventListener` DOC: https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener
    document.getElementById("sum").addEventListener("click", () => {
      const total = compute("+")
      if(total !== null)
        displayResult(total)
    })

    // TODO: get the sub HTML elements using document.querySelector
    // TODO: attach click event to the sub button using the `addEventListener` DOC: https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener
    document.getElementById("sub").addEventListener("click", () => {
      const total = compute("-")
      displayResult(total)
    })

    // TODO: get the mul HTML elements using document.querySelector
    // TODO: attach click event to the mul button using the `addEventListener` DOC: https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener
    document.getElementById("mul").addEventListener("click", () => {
      const total = compute("*")
      displayResult(total)
    })

    // TODO: get the div HTML elements using document.querySelector
    // TODO: attach click event to the div button using the `addEventListener` DOC: https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener
    //       Be careful, you can't divide by 0, if the user tries to divide by 0, display an alert message "Division par zéro impossible" using alert() DOC: https://developer.mozilla.org/en-US/docs/Web/API/Window/alert
    document.getElementById("div").addEventListener("click", () => {
      const total = compute("/")
      displayResult(total)  
    })
    /**
      * Function that resets the result and the input fields
      */
    const reset = () => {
      document.querySelector("#resultat").innerHTML = ""
      document.querySelector("#champOne").value = ""
      document.querySelector("#champTwo").value = ""
    }
  </script>
</body>
</html>